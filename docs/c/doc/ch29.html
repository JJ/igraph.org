









  
  
  
  
  
  



<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/img/igraph4.png" type="image/x-icon" />

    <title>igraph Reference Manual</title>

    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700'
          rel='stylesheet' type='text/css'>
    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <link href="/css/manual.css" rel="stylesheet">

  </head>

  <body class="cc">
  <div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle"
                  data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img src="/img/igraph4.svg" width=35> igraph
          </a>
        </div>
        <div class="navbar-collapse collapse">
	  
	  <ul class="nav navbar-nav">
	    <li><a href="/c">| igraph library</a></li>
	  </ul>
	  
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
		 role="button" aria-expanded="false">Products
		<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
		<li>
		  <a href="/r"><i class="icon-fixed-width icon-rlogo"></i>
		    igraph R package</a></li>
		<li>
		  <a href="/python"><i class="icon-fixed-width icon-python"></i>
		    python-igraph</a></li>
		<li>
		  <a href="/c"><i class="icon-fixed-width icon-c"></i>
		    igraph C library</a></li>
		<li class="divider"></li>
		<li>
		  <a href="https://github.com/igraph/igraphdata">
		    <i class="icon-fixed-width icon-rlogo"></i>
		    igraphdata R package <i class="fa fa-github"></i></a></li>
		<li>
		  <a href="http://nexus.igraph.org">
		    <i class="fa fa-times"></i>Nexus network repository</a></li>
              </ul>
            </li>
            <li>
              <a href="/news.html"><i class="icon-rss"></i>
		News</a></li>
	    <li><a href="https://github.com/igraph">
	      <i class="icon-github"></i> On github</a></li>
          </ul>
          <!-- <form class="navbar-form navbar-right"> -->
          <!--   <div class="form-group"> -->
          <!--     <input type="text" placeholder="Search docs" -->
	  <!-- 	     class="form-control" size="15"> -->
          <!--   </div> -->
          <!--   <button type="submit" class="btn btn-success"> -->
          <!--     <span class="glyphicon glyphicon-search"></span></button> -->
          <!-- </form> -->
        </div><!--/.navbar-collapse -->
      </div>
    </div>
    
    
    
    <div class="bs-header-outer"><div class="bs-header">
      <div class="container">
        <h1>igraph Reference Manual</h1>
        <p class="lead">For using the igraph C library</p>        
      </div>
    </div></div>

    

    <div class="container bs-docs-container">
<div class="row">
  <div class="col-md-9 col-md-offset-1">
  <div class="bs-docs-section">

    
<div class="navigation-header" width="100%" summary="Navigation header"><div class="btn-group">
<a accesskey="p" class="btn btn-default" href="igraph-Bipartite.html"><i class="icon-chevron-left"></i></a><a accesskey="h" class="btn btn-default" href="index.html"><i class="icon-home"></i></a><a accesskey="n" class="btn btn-default" href="igraph-Nongraph.html"><i class="icon-chevron-right"></i></a>
</div></div>
<div class="chapter">
<div class="titlepage"><div><div><h1 class="title">
<a name="idm470954531344"></a>Chapter 29. Advanced igraph programming</h1></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#idm470920829248">1. Using igraph in multi-threaded programs</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph-Progress">2. Progress handlers</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph-Status">3. Status handlers</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="idm470920829248"></a>1. Using igraph in multi-threaded programs</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#IGRAPH_THREAD_SAFE">1.1. <code class="function">IGRAPH_THREAD_SAFE</code> — Macro that is defined to be 1 if the current build of the </a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470920179488">1.2. Thread-safe ARPACK library</a></span></dt>
</dl></div>
<p>
  The igraph library is considered thread-safe on platforms that 
  support thread-local storage. This currently includes Linux and MS
  Windows operating systems, but not Mac OSX. The best way to check 
  whether an igraph build is thread-safe is checking the 
  <a class="link" href="ch29.html#IGRAPH_THREAD_SAFE" title="1.1. IGRAPH_THREAD_SAFE — Macro that is defined to be 1 if the current build of the">
    <code class="function">IGRAPH_THREAD_SAFE</code>
  </a> macro.
</p>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="IGRAPH_THREAD_SAFE"></a>1.1. <code class="function">IGRAPH_THREAD_SAFE</code> — Macro that is defined to be 1 if the current build of the </h3></div></div></div>
<a class="indexterm" name="idm470944075456"></a><p>
</p>
<pre class="programlisting">
#define IGRAPH_THREAD_SAFE
</pre>
<p>
</p>
<p>
 
igraph library is thread-safe, and 0 if it is not.
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470920179488"></a>1.2. Thread-safe ARPACK library</h3></div></div></div>
<p>
Note that igraph is only thread-safe if it was built with the internal
ARPACK library, i.e. the one that comes with igraph. The standard
ARPACK library is not thread-safe.
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="igraph-Progress"></a>2. Progress handlers</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#idm470929641312">2.1.  About progress handlers</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470920069312">2.2. Setting up progress handlers</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470929079840">2.3. Invoking the progress handler</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470930403296">2.4.  Writing progress handlers</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470928010416">2.5.  Writing igraph functions with progress reporting</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470928988288">2.6.  Multi-threaded programs</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470929641312"></a>2.1.  About progress handlers</h3></div></div></div>
<p>It is often useful to report the progress of some long
calculation, to allow the user to follow the computation and 
guess the total running time. A couple of igraph functions 
support this at the time of writing, hopefully more will support it 
in the future. 
</p>
<p>
To see the progress of a computation, the user has to install a 
progress handler, as there is none installed by default. 
If an igraph function supports progress reporting, then it 
calls the installed progress handler periodically, and passes a
percentage value to it, the percentage of computation already
performed. To install a progress handler, you need to call 
<a class="link" href="ch29.html#igraph_set_progress_handler" title="2.2.2. igraph_set_progress_handler — Install a progress handler, or remove the current handler"><code class="function">igraph_set_progress_handler()</code></a>. Currently there is a single
pre-defined progress handler, called <a class="link" href="ch29.html#igraph_progress_handler_stderr" title="2.2.3. igraph_progress_handler_stderr — A simple predefined progress handler"><code class="function">igraph_progress_handler_stderr()</code></a>.
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470920069312"></a>2.2. Setting up progress handlers</h3></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#igraph_progress_handler_t">2.2.1. <code class="function">igraph_progress_handler_t</code> —  Type of progress handler functions</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_set_progress_handler">2.2.2. <code class="function">igraph_set_progress_handler</code> — Install a progress handler, or remove the current handler</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_progress_handler_stderr">2.2.3. <code class="function">igraph_progress_handler_stderr</code> — A simple predefined progress handler</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_progress_handler_t"></a>2.2.1. <code class="function">igraph_progress_handler_t</code> —  Type of progress handler functions</h4></div></div></div>
<a class="indexterm" name="idm470929309072"></a><pre class="programlisting">
typedef int igraph_progress_handler_t(const char *message, igraph_real_t percent,
				      void *data);
</pre>
<p>
 

This is the type of the igraph progress handler functions.
There is currently one such predefined function, 
<a class="link" href="ch29.html#igraph_progress_handler_stderr" title="2.2.3. igraph_progress_handler_stderr — A simple predefined progress handler"><code class="function">igraph_progress_handler_stderr()</code></a>, but the user can
write and set up more sophisticated ones.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  A string describing the function or algorithm 
    that is reporting the progress. Current igraph functions
    always use the name <em class="parameter"><code>message</code></em> argument if reporting from the 
    same function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>percent</code></em>:</span></p></td>
<td><p>
  Numeric, the percentage that was completed by the 
    algorithm or function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  User-defined data. Current igraph functions that 
    report progress pass a null pointer here. Users can 
    write their own progress handlers and functions with progress 
    reporting, and then pass some meaningfull context here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If the return value of the progress handler is not 
    IGRAPH_SUCCESS (=0), then <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a> returns the
    error code <code class="constant">IGRAPH_INTERRUPTED</code>. The <a class="link" href="ch29.html#IGRAPH_PROGRESS" title="2.3.1. IGRAPH_PROGRESS — Report progress."><code class="function">IGRAPH_PROGRESS()</code></a> 
    macro frees all memory and finishes the igraph function with 
    error code <code class="constant">IGRAPH_INTERRUPTED</code> in this case.
 
  </p></td>
</tr></tbody>
</table></div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_set_progress_handler"></a>2.2.2. <code class="function">igraph_set_progress_handler</code> — Install a progress handler, or remove the current handler</h4></div></div></div>
<a class="indexterm" name="idm470931173200"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
igraph_progress_handler_t *
igraph_set_progress_handler(igraph_progress_handler_t new_handler);
</pre></div>
<p>
</p>
<p>



There is a single simple predefined progress handler:
<a class="link" href="ch29.html#igraph_progress_handler_stderr" title="2.2.3. igraph_progress_handler_stderr — A simple predefined progress handler"><code class="function">igraph_progress_handler_stderr()</code></a>.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>new_handler</code></em>:</span></p></td>
<td><p>
  Pointer to a function of type 
    <a class="link" href="ch29.html#igraph_progress_handler_t" title="2.2.1. igraph_progress_handler_t — Type of progress handler functions"><code class="function">igraph_progress_handler_t</code></a>, the progress handler function to 
    install. To uninstall the current progress handler, this argument
    can be a null pointer.
</p></td>
</tr></tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Pointer to the previously installed progress handler function.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_progress_handler_stderr"></a>2.2.3. <code class="function">igraph_progress_handler_stderr</code> — A simple predefined progress handler</h4></div></div></div>
<a class="indexterm" name="idm470921088224"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_progress_handler_stderr(const char *message, igraph_real_t percent,
				  void* data);
</pre></div>
<p>
</p>
<p>



This simple progress handler first prints <em class="parameter"><code>message</code></em>, and then
the percentage complete value in a short message to standard error.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  A string describing the function or algorithm 
    that is reporting the progress. Current igraph functions
    always use the name <em class="parameter"><code>message</code></em> argument if reporting from the 
    same function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>percent</code></em>:</span></p></td>
<td><p>
  Numeric, the percentage that was completed by the 
    algorithm or function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  User-defined data. Current igraph functions that 
    report progress pass a null pointer here. Users can 
    write their own progress handlers and functions with progress 
    reporting, and then pass some meaningfull context here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  This function always returns with <code class="constant">IGRAPH_SUCCESS</code>.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470929079840"></a>2.3. Invoking the progress handler</h3></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#IGRAPH_PROGRESS">2.3.1. <code class="function">IGRAPH_PROGRESS</code> —  Report progress.</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_progress">2.3.2. <code class="function">igraph_progress</code> — Report progress</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_progressf">2.3.3. <code class="function">igraph_progressf</code> — Report progress, printf-like version</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="IGRAPH_PROGRESS"></a>2.3.1. <code class="function">IGRAPH_PROGRESS</code> —  Report progress.</h4></div></div></div>
<a class="indexterm" name="idm470928620656"></a><p>
</p>
<pre class="programlisting">
#define IGRAPH_PROGRESS(message,
</pre>
<p>
</p>
<p>


The standard way to report progress from an igraph function
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  A string, a textual message that references the
   calculation under progress.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>percent</code></em>:</span></p></td>
<td><p>
  Numeric scalar, the percentage that is complete.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  User-defined data, this can be used in user-defined
   progress handler functions, from user-written igraph functions.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If the progress handler returns with <code class="constant">IGRAPH_INTERRUPTED</code>, 
   then this macro frees up the igraph allocated memory for
   temporary data and returns to the caller with <code class="constant">IGRAPH_INTERRUPTED</code>.
 
  </p></td>
</tr></tbody>
</table></div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_progress"></a>2.3.2. <code class="function">igraph_progress</code> — Report progress</h4></div></div></div>
<a class="indexterm" name="idm470918145568"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_progress(const char *message, igraph_real_t percent, void *data);
</pre></div>
<p>
</p>
<p>



Note that the usual way to report progress is the <a class="link" href="ch29.html#IGRAPH_PROGRESS" title="2.3.1. IGRAPH_PROGRESS — Report progress."><code class="function">IGRAPH_PROGRESS</code></a> 
macro, as that takes care of the return value of the progress 
handler.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  A string describing the function or algorithm 
    that is reporting the progress. Current igraph functions
    always use the name <em class="parameter"><code>message</code></em> argument if reporting from the 
    same function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>percent</code></em>:</span></p></td>
<td><p>
  Numeric, the percentage that was completed by the 
    algorithm or function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  User-defined data. Current igraph functions that 
    report progress pass a null pointer here. Users can 
    write their own progress handlers and functions with progress 
    reporting, and then pass some meaningfull context here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If there is a progress handler installed and 
    it does not return <code class="constant">IGRAPH_SUCCESS</code>, then <code class="constant">IGRAPH_INTERRUPTED</code> 
    is returned.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_progressf"></a>2.3.3. <code class="function">igraph_progressf</code> — Report progress, printf-like version</h4></div></div></div>
<a class="indexterm" name="idm470918207744"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_progressf(const char *message, igraph_real_t percent, void *data, 
		     ...);
</pre></div>
<p>
</p>
<p>



This is a more flexible version of <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a>, with 
a printf-like template string. First the template string 
is filled with the additional arguments and then <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a> is called.

</p>
<p>Note that there is an upper limit for the length of
the <em class="parameter"><code>message</code></em> string, currently 1000 characters.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  A string describing the function or algorithm 
    that is reporting the progress. For this function this is a 
    template string, using the same syntax as the standard 
    <code class="constant">libc</code> <code class="constant">printf</code> function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>percent</code></em>:</span></p></td>
<td><p>
  Numeric, the percentage that was completed by the 
    algorithm or function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  User-defined data. Current igraph functions that 
    report progress pass a null pointer here. Users can 
    write their own progress handlers and functions with progress 
    reporting, and then pass some meaningfull context here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em>:</span></p></td>
<td><p>
  Additional argument that were specified in the 
    <em class="parameter"><code>message</code></em> argument.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If there is a progress handler installed and 
    it does not return <code class="constant">IGRAPH_SUCCESS</code>, then <code class="constant">IGRAPH_INTERRUPTED</code> 
    is returned.
\return 
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470930403296"></a>2.4.  Writing progress handlers</h3></div></div></div>
<p>
To write a new progress handler, one needs to create a function of 
type <a class="link" href="ch29.html#igraph_progress_handler_t" title="2.2.1. igraph_progress_handler_t — Type of progress handler functions"><code class="function">igraph_progress_handler_t</code></a>. The new progress handler 
can then be installed with the <a class="link" href="ch29.html#igraph_set_progress_handler" title="2.2.2. igraph_set_progress_handler — Install a progress handler, or remove the current handler"><code class="function">igraph_set_progress_handler()</code></a> 
function.
</p>
<p>
One can assume that the first progress handler call from a
calculation will be call with zero as the <em class="parameter"><code>percentage</code></em> argument,
and the last call from a function will have 100 as the <em class="parameter"><code>percentage</code></em> argument. Note, however, that if an error happens in the 
middle of a computation, then the 100 percent call might be
omitted.
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470928010416"></a>2.5.  Writing igraph functions with progress reporting</h3></div></div></div>
<p> 
If you want to write a function that uses igraph and supports
progress reporting, you need to include <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a>
calls in your function, usually via the <a class="link" href="ch29.html#IGRAPH_PROGRESS" title="2.3.1. IGRAPH_PROGRESS — Report progress."><code class="function">IGRAPH_PROGRESS()</code></a>
macro.
</p>
<p>
It is good practice to always include a call to <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a> with a zero <em class="parameter"><code>percentage</code></em> argument, before the 
computation; and another call with 100 <em class="parameter"><code>percentage</code></em> value 
after the computation is completed.
</p>
<p>
It is also good practice <span class="emphasis"><em>not</em></span> to call <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a> too
often, as this would slow down the computation. It might not be 
worth to support progress reporting in functions with linear or 
log-linear time complexity, as these are fast, even with a large 
amount of data. For functions with quadratic or higher time 
complexity make sure that the time complexity of the progress
reporting is constant or at least linear. In practice this means
having at most O(n) progress checks and at most 100 \reg
igraph_progress() calls.
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470928988288"></a>2.6.  Multi-threaded programs</h3></div></div></div>
<p>
In multi-threaded programs, each thread has its own progress 
handler, if thread-local storage is supported and igraph is
thread-safe. See the <a class="link" href="ch29.html#IGRAPH_THREAD_SAFE" title="1.1. IGRAPH_THREAD_SAFE — Macro that is defined to be 1 if the current build of the"><code class="function">IGRAPH_THREAD_SAFE</code></a> macro for checking 
whether an igraph build is thread-safe.
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="igraph-Status"></a>3. Status handlers</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#idm470928046336">3.1.  Status reporting</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470944324816">3.2. Setting up status handlers</a></span></dt>
<dt><span class="section"><a href="ch29.html#idm470930507280">3.3. Invoking the status handler</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470928046336"></a>3.1.  Status reporting</h3></div></div></div>
<p>
In addition to the possibility of reporting the progress of an 
igraph computation via <a class="link" href="ch29.html#igraph_progress" title="2.3.2. igraph_progress — Report progress"><code class="function">igraph_progress()</code></a>, it is also possible 
to report simple status messages from within igraph functions, 
without having to judge how much of the computation was performed
already. For this one needs to install a status handler function.
</p>
<p>
Status handler functions must be of type <a class="link" href="ch29.html#igraph_status_handler_t" title="3.2.1. igraph_status_handler_t — The type of the igraph status handler functions"><code class="function">igraph_status_handler_t</code></a> 
and they can be install by a call to <a class="link" href="ch29.html#igraph_set_status_handler" title="3.2.2. igraph_set_status_handler — Install of uninstall a status handler function."><code class="function">igraph_set_status_handler()</code></a>.
Currently there is a simple predefined status handler function,
called <a class="link" href="ch29.html#igraph_status_handler_stderr" title="3.2.3. igraph_status_handler_stderr — A simple predefined status handler function."><code class="function">igraph_status_handler_stderr()</code></a>, but the user can define
new ones.
</p>
<p>
Igraph functions report their status via a call to the 
<a class="link" href="ch29.html#IGRAPH_STATUS" title="3.3.1. IGRAPH_STATUS — Report the status of an igraph function."><code class="function">IGRAPH_STATUS()</code></a> or the <a class="link" href="ch29.html#IGRAPH_STATUSF" title="3.3.2. IGRAPH_STATUSF — Report the status from an igraph function"><code class="function">IGRAPH_STATUSF()</code></a> macro.
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470944324816"></a>3.2. Setting up status handlers</h3></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#igraph_status_handler_t">3.2.1. <code class="function">igraph_status_handler_t</code> — The type of the igraph status handler functions</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_set_status_handler">3.2.2. <code class="function">igraph_set_status_handler</code> — Install of uninstall a status handler function.</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_status_handler_stderr">3.2.3. <code class="function">igraph_status_handler_stderr</code> — A simple predefined status handler function.</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_status_handler_t"></a>3.2.1. <code class="function">igraph_status_handler_t</code> — The type of the igraph status handler functions</h4></div></div></div>
<a class="indexterm" name="idm470926875568"></a><pre class="programlisting">
typedef int igraph_status_handler_t(const char *message, void *data);
</pre>
<p>
 
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  The status message.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  Additional context, with user-defined semantics.
       Existing igraph functions pass a null pointer here.
 </p></td>
</tr>
</tbody>
</table></div>
<p>

</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_set_status_handler"></a>3.2.2. <code class="function">igraph_set_status_handler</code> — Install of uninstall a status handler function.</h4></div></div></div>
<a class="indexterm" name="idm470929442800"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
igraph_status_handler_t *
igraph_set_status_handler(igraph_status_handler_t new_handler);
</pre></div>
<p>
</p>
<p>



To uninstall the currently installed status handler, call
this function with a null pointer.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>new_handler</code></em>:</span></p></td>
<td><p>
  The status handler function to install.
</p></td>
</tr></tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  The previously installed status handler function.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_status_handler_stderr"></a>3.2.3. <code class="function">igraph_status_handler_stderr</code> — A simple predefined status handler function.</h4></div></div></div>
<a class="indexterm" name="idm470929636672"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_status_handler_stderr(const char *message, void *data);
</pre></div>
<p>
</p>
<p>



A simple status handler function, that writes the status 
message to the standard errror.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  The status message.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  Additional context, with user-defined semantics.
       Existing igraph functions pass a null pointer here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code.
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="idm470930507280"></a>3.3. Invoking the status handler</h3></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="ch29.html#IGRAPH_STATUS">3.3.1. <code class="function">IGRAPH_STATUS</code> — Report the status of an igraph function.</a></span></dt>
<dt><span class="section"><a href="ch29.html#IGRAPH_STATUSF">3.3.2. <code class="function">IGRAPH_STATUSF</code> — Report the status from an igraph function </a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_status">3.3.3. <code class="function">igraph_status</code> — Report status from an igraph function.</a></span></dt>
<dt><span class="section"><a href="ch29.html#igraph_statusf">3.3.4. <code class="function">igraph_statusf</code> — Report status, more flexible printf-like version.</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="IGRAPH_STATUS"></a>3.3.1. <code class="function">IGRAPH_STATUS</code> — Report the status of an igraph function.</h4></div></div></div>
<a class="indexterm" name="idm470921073152"></a><p>
</p>
<pre class="programlisting">
#define IGRAPH_STATUS(message,
</pre>
<p>
</p>
<p>


Typically this function is called only a handful of times from
an igraph function. E.g. if an algorithm has three major 
steps, then it is logical to call it three times, to 
signal the three major steps.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  The status message.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  Additional context, with user-defined semantics.
       Existing igraph functions pass a null pointer here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If the status handler returns with a value other than
       <code class="constant">IGRAPH_SUCCESS</code>, then the function that called this 
       macro returns as well, with error code 
       <code class="constant">IGRAPH_INTERRUPTED</code>.
 
  </p></td>
</tr></tbody>
</table></div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="IGRAPH_STATUSF"></a>3.3.2. <code class="function">IGRAPH_STATUSF</code> — Report the status from an igraph function </h4></div></div></div>
<a class="indexterm" name="idm470931081872"></a><p>
</p>
<pre class="programlisting">
#define IGRAPH_STATUSF(args)
</pre>
<p>
</p>
<p>
 

This is the more flexible version of <a class="link" href="ch29.html#IGRAPH_STATUS" title="3.3.1. IGRAPH_STATUS — Report the status of an igraph function."><code class="function">IGRAPH_STATUS()</code></a>, 
having a printf-like syntax. As this macro takes variable 
number of arguments, they must be all supplied as a single 
argument, enclosed in parentheses. Then <a class="link" href="ch29.html#igraph_statusf" title="3.3.4. igraph_statusf — Report status, more flexible printf-like version."><code class="function">igraph_statusf()</code></a> 
is called with the given arguments.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>args</code></em>:</span></p></td>
<td><p>
  The arguments to pass to <a class="link" href="ch29.html#igraph_statusf" title="3.3.4. igraph_statusf — Report status, more flexible printf-like version."><code class="function">igraph_statusf()</code></a>.
</p></td>
</tr></tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  If the status handler returns with a value other than
       <code class="constant">IGRAPH_SUCCESS</code>, then the function that called this 
       macro returns as well, with error code 
       <code class="constant">IGRAPH_INTERRUPTED</code>.
 
  </p></td>
</tr></tbody>
</table></div>
<p>
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_status"></a>3.3.3. <code class="function">igraph_status</code> — Report status from an igraph function.</h4></div></div></div>
<a class="indexterm" name="idm470920142944"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_status(const char *message, void *data);
</pre></div>
<p>
</p>
<p>
 


It calls the installed status handler function, if there is 
one. Otherwise it does nothing. Note that the standard way to 
report the status from an igraph function is the 
<a class="link" href="ch29.html#IGRAPH_STATUS" title="3.3.1. IGRAPH_STATUS — Report the status of an igraph function."><code class="function">IGRAPH_STATUS</code></a> or <a class="link" href="ch29.html#IGRAPH_STATUSF" title="3.3.2. IGRAPH_STATUSF — Report the status from an igraph function"><code class="function">IGRAPH_STATUSF</code></a> macro, as these 
take care of the termination of the calling function if the 
status handler returns with <code class="constant">IGRAPH_INTERRUPTED</code>.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  The status message.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  Additional context, with user-defined semantics.
       Existing igraph functions pass a null pointer here.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code. If a status handler function was called 
       and it did not return with <code class="constant">IGRAPH_SUCCESS</code>, then 
       <code class="constant">IGRAPH_INTERRUPTED</code> is returned by <code class="constant">igraph_status</code>().
  </p></td>
</tr></tbody>
</table></div>
<p>

Time complexity: O(1).
 
</p>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="igraph_statusf"></a>3.3.4. <code class="function">igraph_statusf</code> — Report status, more flexible printf-like version.</h4></div></div></div>
<a class="indexterm" name="idm470929602128"></a><p>
</p>
<div class="informalexample"><pre class="programlisting">
int igraph_statusf(const char *message, void *data, ...);
</pre></div>
<p>
</p>
<p>



This is the more flexible version of <a class="link" href="ch29.html#igraph_status" title="3.3.3. igraph_status — Report status from an igraph function."><code class="function">igraph_status()</code></a>, 
that has a syntax similar to the <code class="constant">printf</code> standard C library function.
It substitutes the values of the additional arguments into the 
<em class="parameter"><code>message</code></em> template string and calls <a class="link" href="ch29.html#igraph_status" title="3.3.3. igraph_status — Report status from an igraph function."><code class="function">igraph_status()</code></a>.
</p>
<p><b>Arguments: </b>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>:</span></p></td>
<td><p>
  Status message template string, the syntax is the same 
       as for the <code class="constant">printf</code> function.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>:</span></p></td>
<td><p>
  Additional context, with user-defined semantics. 
       Existing igraph functions pass a null pointer here.
</p></td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em>:</span></p></td>
<td><p>
  The additional arguments to fill the template given in the 
       <em class="parameter"><code>message</code></em> argument.
</p></td>
</tr>
</tbody>
</table></div>
<p>
</p>
<p><b>Returns: </b></p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code></code></em></span></p></td>
<td><p>
  Error code. If a status handler function was called 
       and it did not return with <code class="constant">IGRAPH_SUCCESS</code>, then 
       <code class="constant">IGRAPH_INTERRUPTED</code> is returned by <code class="constant">igraph_status</code>().
  </p></td>
</tr></tbody>
</table></div>
<p>
 
</p>
</div>
</div>
</div>
</div>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
      _uacct = "UA-1392972-1";
      urchinTracker();
    </script><table class="navigation-footer" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle">
<td align="left"><a accesskey="p" href="igraph-Bipartite.html"><b>← Chapter 28. Bipartite, i.e. two-mode graphs</b></a></td>
<td align="right"><a accesskey="n" href="igraph-Nongraph.html"><b>Chapter 30. Not Graph Related Functions  →</b></a></td>
</tr></table>



  </div>
  </div>
</div>
</div>


    </div>

    <div id="footer"><div class="container">
      <div class="row">
        <div class="col-xs-12">
          <p class="text-muted credit">
	    &copy; 2003 &ndash; 2015 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
            <!-- &bull; <a href="">Download old releases</a> -->
            <!-- &bull; <a href="">Old documentation</a> -->
            <!-- &bull; <a href="">Authors</a> -->
            <!-- &bull; <a href="">Tools</a> -->
            <!-- &bull; <a href="">Papers citing igraph</a> -->
          </p>
        </div>
      </div>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery-2.0.3.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/affix.js"></script>
    <script src="/js/tooltips.js"></script>
    <script src="/js/toggle.js"></script>

    

    <!-- Google analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-1392972-5', 'igraph.org');
      ga('send', 'pageview');
    </script>

  </body>
</html>
