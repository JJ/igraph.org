









<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/img/igraph4.png" type="image/x-icon" />

    <title>igraph R manual pages</title>

    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1392972-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1392972-5');
    </script>

    <link href="/css/manual.css" rel="stylesheet">
  </head>

  <body class="r">
  <div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle"
                  data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img src="/img/igraph4.svg" width=35> igraph
          </a>
        </div>
        <div class="navbar-collapse collapse">
	  
	  <ul class="nav navbar-nav">
	    <li><a href="/r">| igraph R package</a></li>
	  </ul>
	  
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
		 role="button" aria-expanded="false">Products
		<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
		<li>
		  <a href="/r"><i class="icon-fixed-width icon-rlogo"></i>
		    igraph R package</a></li>
		<li>
		  <a href="/python"><i class="icon-fixed-width icon-python"></i>
		    python-igraph</a></li>
		<li>
		  <a href="http://szhorvat.net/mathematica/IGraphM"><i class="icon-fixed-width icon-python"></i>
		    IGraph/M</a></li>
		<li>
		  <a href="/c"><i class="icon-fixed-width icon-c"></i>
		    igraph C library</a></li>
		<li class="divider"></li>
		<li>
		  <a href="https://github.com/igraph/igraphdata">
		    <i class="icon-fixed-width icon-rlogo"></i>
		    igraphdata R package <i class="fa fa-github"></i></a></li>
              </ul>
            </li>
            <li>
              <a href="/news.html"><i class="icon-rss"></i>
		News</a></li>
	    <li><a href="https://github.com/igraph">
	      <i class="icon-github"></i> On github</a></li>
          </ul>
          <!-- <form class="navbar-form navbar-right"> -->
          <!--   <div class="form-group"> -->
          <!--     <input type="text" placeholder="Search docs" -->
	  <!-- 	     class="form-control" size="15"> -->
          <!--   </div> -->
          <!--   <button type="submit" class="btn btn-success"> -->
          <!--     <span class="glyphicon glyphicon-search"></span></button> -->
          <!-- </form> -->
        </div><!--/.navbar-collapse -->
      </div>
    </div>
    
    
    
    <div class="bs-header-outer"><div class="bs-header">
      <div class="container">
        <h1>R igraph manual pages</h1>
        <p class="lead">Use this if you are using igraph from R</p>        
      </div>
    </div></div>

    

    <div class="container bs-docs-container">
<div class="row">
  <div class="col-md-9 col-md-offset-1">
  <div class="bs-docs-section">

    


<h2>Transitivity of a graph</h2>

<h3>Description</h3>

<p>Transitivity measures the probability that the adjacent vertices of a vertex
are connected. This is sometimes also called the clustering coefficient.
</p>


<h3>Usage</h3>

<pre>
transitivity(graph, type = c("undirected", "global", "globalundirected",
  "localundirected", "local", "average", "localaverage",
  "localaverageundirected", "barrat", "weighted"), vids = NULL,
  weights = NULL, isolates = c("NaN", "zero"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>The graph to analyze.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>The type of the transitivity to calculate. Possible values:
</p>
 <dl>
<dt>&quot;global&quot;</dt><dd><p>The global transitivity of an undirected
graph (directed graphs are considered as undirected ones as well). This is
simply the ratio of the triangles and the connected triples in the graph.
For directed graph the direction of the edges is ignored. </p>
</dd>
<dt>&quot;local&quot;</dt><dd><p>The local transitivity of an undirected graph, this is
calculated for each vertex given in the <code>vids</code> argument. The local
transitivity of a vertex is the ratio of the triangles connected to the
vertex and the triples centered on the vertex. For directed graph the
direction of the edges is ignored. </p>
</dd> <dt>&quot;undirected&quot;</dt><dd><p>This is the
same as <code>global</code>.</p>
</dd> <dt>&quot;globalundirected&quot;</dt><dd><p>This is the same as
<code>global</code>.</p>
</dd> <dt>&quot;localundirected&quot;</dt><dd><p>This is the same as
<code>local</code>.</p>
</dd> <dt>&quot;barrat&quot;</dt><dd><p>The weighted transitivity as defined A.
Barrat. See details below.</p>
</dd> <dt>&quot;weighted&quot;</dt><dd><p>The same as
<code>barrat</code>.</p>
</dd> </dl>
</td></tr>
<tr valign="top"><td><code>vids</code></td>
<td>
<p>The vertex ids for the local transitivity will be calculated.
This will be ignored for global transitivity types.  The default value is
<code>NULL</code>, in this case all vertices are considered. It is slightly faster
to supply <code>NULL</code> here than <code>V(graph)</code>.</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>Optional weights for weighted transitivity. It is ignored for
other transitivity measures. If it is <code>NULL</code> (the default) and the
graph has a <code>weight</code> edge attribute, then it is used automatically.</p>
</td></tr>
<tr valign="top"><td><code>isolates</code></td>
<td>
<p>Character scalar, defines how to treat vertices with degree
zero and one. If it is &lsquo;<code>NaN</code>&rsquo; then they local transitivity is
reported as <code>NaN</code> and they are not included in the averaging, for the
transitivity types that calculate an average. If there are no vertices with
degree two or higher, then the averaging will still result <code>NaN</code>. If it
is &lsquo;<code>zero</code>&rsquo;, then we report 0 transitivity for them, and they
are included in the averaging, if an average is calculated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that there are essentially two classes of transitivity measures, one is
a vertex-level, the other a graph level property.
</p>
<p>There are several generalizations of transitivity to weighted graphs, here
we use the definition by A. Barrat, this is a local vertex-level quantity,
its formula is
</p>
<p style="text-align: center;"><i>
weighted C_i = 1/s_i 1/(k_i-1) sum( (w_ij+w_ih)/2 a_ij a_ih a_jh, j, h)</i></p>

<p><i>s_i</i> is the strength of vertex <i>i</i>, see
<code><a href="strength.html">strength</a></code>, <i>a_ij</i> are elements of the
adjacency matrix, <i>k_i</i> is the vertex degree, <i>w_ij</i>
are the weights.
</p>
<p>This formula gives back the normal not-weighted local transitivity if all
the edge weights are the same.
</p>
<p>The <code>barrat</code> type of transitivity does not work for graphs with
multiple and/or loop edges. If you want to calculate it for a directed
graph, call <code><a href="as.directed.html">as.undirected</a></code> with the <code>collapse</code> mode first.
</p>


<h3>Value</h3>

<p>For &lsquo;<code>global</code>&rsquo; a single number, or <code>NaN</code> if there
are no connected triples in the graph.
</p>
<p>For &lsquo;<code>local</code>&rsquo; a vector of transitivity scores, one for each
vertex in &lsquo;<code>vids</code>&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>


<h3>References</h3>

<p>Wasserman, S., and Faust, K. (1994). <em>Social Network
Analysis: Methods and Applications.</em> Cambridge: Cambridge University Press.
</p>
<p>Alain Barrat, Marc Barthelemy, Romualdo Pastor-Satorras, Alessandro
Vespignani: The architecture of complex weighted networks, Proc. Natl. Acad.
Sci. USA 101, 3747 (2004)
</p>


<h3>Examples</h3>

<pre>

g &lt;- make_ring(10)
transitivity(g)
g2 &lt;- sample_gnp(1000, 10/1000)
transitivity(g2)   # this is about 10/1000

# Weighted version, the figure from the Barrat paper
gw &lt;- graph_from_literal(A-B:C:D:E, B-C:D, C-D)
E(gw)$weight &lt;- 1
E(gw)[ V(gw)[name == "A"] %--% V(gw)[name == "E" ] ]$weight &lt;- 5
transitivity(gw, vids="A", type="local")
transitivity(gw, vids="A", type="weighted")

# Weighted reduces to "local" if weights are the same
gw2 &lt;- sample_gnp(1000, 10/1000)
E(gw2)$weight &lt;- 1
t1 &lt;- transitivity(gw2, type="local")
t2 &lt;- transitivity(gw2, type="weighted")
all(is.na(t1) == is.na(t2))
all(na.omit(t1 == t2))

</pre>

<hr /><div style="text-align: center;">[Package <em>igraph</em> version 1.2.4.1 <a href="00Index.html">Index</a>]</div>



  </div>
  </div>
</div>
</div>


    </div>

    <div id="footer"><div class="container">
      <div class="row">
        <div class="col-xs-12">
          <p class="text-muted credit">
	    &copy; 2003 &ndash; 2020 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
            <!-- &bull; <a href="">Download old releases</a> -->
            <!-- &bull; <a href="">Old documentation</a> -->
            <!-- &bull; <a href="">Authors</a> -->
            <!-- &bull; <a href="">Tools</a> -->
            <!-- &bull; <a href="">Papers citing igraph</a> -->
          </p>
        </div>
      </div>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery-2.0.3.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/affix.js"></script>
    <script src="/js/tooltips.js"></script>
    <script src="/js/toggle.js"></script>

    
  </body>
</html>
