




<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon and theming -->
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <title>Betweenness</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,400,700"
          rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-mfizz/font-mfizz.css">
    <link href="/css/affix.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/other.css" rel="stylesheet">
    <link href="/fonts/fonts.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements 
         and media queries -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
      <script src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1392972-5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1392972-5');
    </script>

    <link rel="top" title="igraph 0.9.8 documentation" href="../../index.html" /> <link rel="up" title="Tutorial gallery" href="../../gallery.html" /> <link rel="next" title="Maximum Bipartite Matching" href="../bipartite_matching/bipartite_matching.html" /> <link rel="prev" title="Articulation Points" href="../articulation_points/articulation_points.html" /> <link rel="stylesheet" href="../../_static/basic.css" type="text/css" /> <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" /> <link rel="stylesheet" href="../../_static/other.css" type="text/css" />
  </head>

  <body class="python">
  <div id="wrap">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="/img/igraph_logo_white.svg" width="35"> igraph
      </a>

      
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item"><a class="nav-link" href="/python">python-igraph 0.9.9</a></li>
        
      </ul>
      

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" id="productsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Products</a>
            <div class="dropdown-menu" aria-labelledby="productsDropdown">
              <a class="dropdown-item" href="/r">igraph R package</a>
              <a class="dropdown-item" href="/python">python-igraph</a>
              <a class="dropdown-item" href="http://szhorvat.net/mathematica/IGraphM">IGraph/M</a>
              <a class="dropdown-item" href="/c">igraph C library</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="https://github.com/igraph/igraphdata">igraphdata R package <i class="fa fa-github"></i></a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/news.html"><i class="fa fa-rss"></i> News</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://igraph.discourse.group"><i class="fa fa-comments"></i> Forum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/code-of-conduct.html"><i class="fa fa-gavel"></i> Code of Conduct</a>
          </li>          
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/igraph"><i class="fa fa-github"></i> On GitHub</a>
          </li>
        </ul>
      </div>
    </nav>
    
    

    <div class="jumbotron">
      <div class="container">
        <h1 class="display-4">python-igraph Manual</h1>
        <p class="lead">For using igraph from Python</p>
      </div>
      <canvas id="jumbotron-anim"></canvas>
    </div>

    

      <div class="main container">


<div class="row">
  <div class="col-md-12">
    <div class="navigation-header mb-4" width="100%" summary="Navigation header">
      <div class="btn-group" role="group">
        <a href="../articulation_points/articulation_points.html" title="Previous Chapter: Articulation Points" class="btn btn-light" role="button" accesskey="P">
          <i class="fa fa-chevron-left"></i> Articulation Points
        </a>
        <a href="../../gallery.html" title="Parent: Tutorial gallery" class="btn btn-light" role="button" accesskey="U">
          <i class="fa fa-chevron-up"></i> Tutorial gallery
        </a>
        <a href="../bipartite_matching/bipartite_matching.html" title="Next Chapter: Maximum Bipartite Matching" class="btn btn-light" role="button" accesskey="N">
          Maximum Bipartite Matching <i class="fa fa-chevron-right"></i>
        </a>
      </div>
    </div>
  </div>
</div>


    <div class="row">
      <div class="document col-md-12">
      <div class="documentwrapper bs-docs-section" id="top-of-docs">
        <h1 class="real">
          Betweenness
          <a class="headerlink" href="#top-of-docs" title="Permalink to this headline">¶</a>
        </h1>
        <ul>
<li><a class="reference internal" href="#">Betweenness</a></li>
</ul>

        
  <section id="betweenness">
<span id="tutorials-betweenness"></span><h1>Betweenness<a class="headerlink" href="#betweenness" title="Permalink to this headline">¶</a></h1>
<p>This example demonstrates how to visualize both vertex and edge betweenness with a custom defined color palette. We use the methods <a class="reference external" href="https://igraph.org/python/doc/api/igraph._igraph.GraphBase.html#betweenness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">betweenness()</span></code></a> and <a class="reference external" href="https://igraph.org/python/doc/api/igraph._igraph.GraphBase.html#edge_betweenness"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edge_betweenness()</span></code></a> respectively, and demonstrate the effects on a standard <a class="reference external" href="https://www.wikiwand.com/en/Krackhardt_kite_graph">Krackhardt Kite</a> graph, as well as a <a class="reference external" href="https://en.wikipedia.org/wiki/Barab%C3%A1si%E2%80%93Albert_model">Barabási-Albert</a> random graph.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">igraph</span> <span class="k">as</span> <span class="nn">ig</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">plot_betweenness</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">ax</span><span class="p">):</span>
    <span class="c1"># Calculate vertex betweenness and scale it to be between 0.0 and 1.0</span>
    <span class="n">vertex_betweenness</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">betweenness</span><span class="p">(),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">edge_betweenness</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">edge_betweenness</span><span class="p">(),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>

    <span class="n">ig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">g</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
        <span class="n">layout</span><span class="o">=</span><span class="s2">&quot;fruchterman_reingold&quot;</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="n">ig</span><span class="o">.</span><span class="n">GradientPalette</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="s2">&quot;midnightblue&quot;</span><span class="p">),</span>
        <span class="n">vertex_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span>
                <span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">vertex_betweenness</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">))),</span>
        <span class="n">edge_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span>
                <span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">edge_betweenness</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">))),</span>
        <span class="n">vertex_size</span><span class="o">=</span><span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">vertex_betweenness</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">)),</span>
        <span class="n">edge_width</span><span class="o">=</span><span class="n">ig</span><span class="o">.</span><span class="n">rescale</span><span class="p">(</span><span class="n">edge_betweenness</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)),</span>
        <span class="n">vertex_frame_width</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="p">)</span>

<span class="c1"># Generate Krackhardt Kite Graphs and Barabasi graphs</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">g1</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">Famous</span><span class="p">(</span><span class="s2">&quot;Krackhardt_Kite&quot;</span><span class="p">)</span>
<span class="n">g2</span> <span class="o">=</span> <span class="n">ig</span><span class="o">.</span><span class="n">Graph</span><span class="o">.</span><span class="n">Barabasi</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Plot the graph</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plot_betweenness</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plot_betweenness</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Add &quot;a&quot; and &quot;b&quot; labels for panels</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.55</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Here we use <a class="reference external" href="https://igraph.org/python/doc/api/igraph.utils.html#rescale"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rescale()</span></code></a> as a great way to linearly scale all data into ranges we can work with. Note that we scale the betweennesses for the vertices and edges by the cube root and square root respectively. The choice of scaling is arbitrary, but is used to give a smoother, more linear transition in the sizes and colors of nodes and edges. The final output graphs are as follows:</p>
<figure class="align-center" id="id2">
<img alt="A graph visualizing the betweenness of each vertex and edge." src="../../_images/betweenness.png" />
<figcaption>
<p><span class="caption-text">Graph visualizing edge betweenness (a) in a Krackhardt Kite graph and (b) in a 200 node Barabási-Albert graph. Color legend: white to dark blue means low to high betweenness centrality.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>


      </div>
    </div>
    <div class="clearer"></div>
    </div>
  </div>


    </div>

    <div id="footer"><div class="container-fluid">
      <p class="text-muted credit">
	  &copy; 2003 &ndash; 2022 The igraph core team.
            &bull; Code licensed under 
            <a href="http://www.gnu.org/licenses/gpl-2.0.html">
            GNU GPL 2</a> or later, documentation under 
            <a href="http://www.gnu.org/copyleft/fdl.html">
              GNU FDL.</a>
      </p>
    </div></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="/js/affix.js"></script>
    <script src="/js/jumbotron.js"></script>
    <script src="/js/toggle.js"></script>






    
  </body>
</html>
